(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const openBtn=document.getElementById("openBtn"),startStage=document.getElementById("startStage"),scrollStage=document.getElementById("scrollStage"),env=document.getElementById("env");function clamp01(o){return Math.max(0,Math.min(1,o))}function smoothstep(o,n,r){const s=clamp01((r-o)/(n-o));return s*s*(3-2*s)}function applyProgress(o){const n=smoothstep(.05,.3,o),r=smoothstep(.02,.15,o),s=smoothstep(.12,.26,o);env.style.setProperty("--flap",n.toFixed(4)),env.style.setProperty("--sealFade",r.toFixed(4)),env.style.setProperty("--title",s.toFixed(4));const e=.32,t=.1,i=smoothstep(e+t*0,e+t*1,o),c=smoothstep(e+t*1,e+t*2,o),l=smoothstep(e+t*2,e+t*3,o),d=smoothstep(e+t*3,e+t*4,o),a=smoothstep(e+t*4,e+t*5,o);env.style.setProperty("--p1",i.toFixed(4)),env.style.setProperty("--p2",c.toFixed(4)),env.style.setProperty("--p3",l.toFixed(4)),env.style.setProperty("--p4",d.toFixed(4)),env.style.setProperty("--p5",a.toFixed(4))}function onScroll(){if(!scrollStage.classList.contains("is-active"))return;const o=scrollStage.getBoundingClientRect(),n=scrollStage.offsetHeight-window.innerHeight,r=-o.top,s=clamp01(r/Math.max(1,n));applyProgress(s)}openBtn.addEventListener("click",()=>{scrollStage.classList.add("is-active"),startStage.style.display="none",window.scrollTo({top:scrollStage.offsetTop+1,behavior:"smooth"}),requestAnimationFrame(()=>{applyProgress(0),onScroll()})}),window.addEventListener("scroll",onScroll,{passive:!0}),window.addEventListener("resize",onScroll),applyProgress(0);
